(function(e){function t(t){for(var n,i,c=t[0],o=t[1],u=t[2],p=0,f=[];p<c.length;p++)i=c[p],a[i]&&f.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/mucritic-web/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0147":function(e,t,r){"use strict";var n=r("5544"),a=r.n(n);a.a},"034f":function(e,t,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"0ab9":function(e,t,r){"use strict";var n=r("49d8"),a=r.n(n);a.a},"0ca0":function(e,t,r){"use strict";var n=r("f432"),a=r.n(n);a.a},1:function(e,t){},10:function(e,t){},11:function(e,t){},1215:function(e,t,r){},1931:function(e,t,r){"use strict";var n=r("6de9"),a=r.n(n);a.a},2:function(e,t){},2824:function(e,t,r){},3:function(e,t){},"3f46":function(e,t,r){"use strict";var n=r("1215"),a=r.n(n);a.a},4:function(e,t){},"49d8":function(e,t,r){},"4b77":function(e,t,r){},5:function(e,t){},5544:function(e,t,r){},"5e8b":function(e,t,r){"use strict";var n=r("2824"),a=r.n(n);a.a},"5f8f":function(e,t,r){"use strict";var n=r("ae10"),a=r.n(n);a.a},6:function(e,t){},"64a9":function(e,t,r){},"664a":function(e,t,r){"use strict";var n=r("a83e"),a=r.n(n);a.a},"6dcf":function(e,t,r){"use strict";var n=r("799b"),a=r.n(n);a.a},"6de9":function(e,t,r){},"6e73":function(e,t,r){},7:function(e,t){},"799b":function(e,t,r){},"7e1e":function(e,t,r){"use strict";var n=r("4b77"),a=r.n(n);a.a},8:function(e,t){},9:function(e,t){},a83e:function(e,t,r){},a853:function(e,t,r){"use strict";var n=r("d8d5"),a=r.n(n);a.a},ae10:function(e,t,r){},bda3:function(e,t,r){},c88e:function(e,t,r){"use strict";var n=r("bda3"),a=r.n(n);a.a},cd49:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Nav"),r("router-view")],1)},s=[],i=r("d225"),c=r("308d"),o=r("6bb5"),u=r("4e2b"),l=r("9ab4"),p=r("60a3"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-link",{attrs:{to:"/"}},[e._v("\n        Learn Your Taste\n    ")]),r("span",{staticClass:"spacer"}),r("router-link",{attrs:{to:"/about"}},[e._v("\n        How it Works\n    ")]),r("span",{staticClass:"spacer",attrs:{id:"spacer-middle"}}),r("router-link",{attrs:{to:"/contact"}},[e._v("\n        Get in Touch\n    ")]),r("span",{staticClass:"spacer"}),r("a",{attrs:{href:"https://github.com/MichaelDarr/MuCritic-2.0"}},[e._v("Source Code")])],1)},d=[],m=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(p["c"]);m=l["a"]([Object(p["a"])({})],m);var b=m,h=b,v=(r("3f46"),r("2877")),y=Object(v["a"])(h,f,d,!1,null,"0caa0bf6",null),g=y.exports,O=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(n["a"]);O=l["a"]([Object(p["a"])({components:{Nav:g}})],O);var j=O,k=j,w=(r("034f"),Object(v["a"])(k,a,s,!1,null,null,null)),_=w.exports,A=r("8c4f"),R=r("2f62"),x=(r("c5f6"),r("28a5"),r("96cf"),r("3b8d")),E=r("0b53"),S=r("30dc"),P=r.n(S),C={fetch:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,new Promise(function(e,t){var r="https://michaeldarr.github.io/mucritic-web/album_data.csv";P()(r,function(r,n,a){null!=r?t(new Error("album data failed to load: ".concat(r))):e(a)})});case 3:n=e.sent,a=n.split("\n"),a.shift(),s=a.map(function(e){var t=e.split(",");return{spotifyId:t[0],popularity:Number(t[1]),rymOverallRank:Number(t[2]),rymRating:Number(t[3]),rymRatingCount:Number(t[4]),releaseYear:Number(t[5]),artistActive:Number(t[6]),artistDiscographySize:Number(t[7]),artistMemberCount:Number(t[8]),artistPopularity:Number(t[9]),encoding:[Number(t[10]),Number(t[11]),Number(t[12]),Number(t[13]),Number(t[14]),Number(t[15]),Number(t[16]),Number(t[17]),Number(t[18]),Number(t[19]),Number(t[20]),Number(t[21]),Number(t[22]),Number(t[23]),Number(t[24]),Number(t[25])],userScore:null,userScoreAdjusted:null,imageUrl:null,spotifyUrl:null,name:null,artist:null}}),r("setAlbums",s);case 8:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),rate:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,i,c,o,u,l,p,f,d,m,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,n=t.rootState,a=t.state,null!=n.tasteModel&&null!=n.tasteModelAdjusted){e.next=3;break}throw new Error("Tried to rate albums before model creation");case 3:if(null!=a.albums){e.next=5;break}throw new Error("No albums to rate");case 5:return s=n.tasteModel,i=n.tasteModelAdjusted,c=a.albums,o=c.map(function(e){return e.encoding}),u=E["f"](o,[o.length,16]),l=s.predict(u),e.next=13,l.array();case 13:return p=e.sent,f=p.map(function(e){return 2*(4.5*e[0]+.5)}),d=i.predict(u),e.next=18,d.array();case 18:m=e.sent,b=m.map(function(e){return e[0]}),r("setScores",{scores:f,scoresAdjusted:b});case 21:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()};r("55dd"),r("7f7f"),r("ac6a");function T(e){return null==e.userScoreAdjusted||null==e.userScore?-1:Math.sqrt(e.userScore)/40+e.userScoreAdjusted}var $={setAlbums:function(e,t){e.albums=t,e.filteredAlbums=t},setPopularity:function(e,t){e.popularity=t},setScores:function(e,t){t.scores.forEach(function(t,r){e.albums[r].userScore=t}),t.scoresAdjusted.forEach(function(t,r){e.albums[r].userScoreAdjusted=t})},setReception:function(e,t){e.reception=t},setReleaseDecade:function(e,t){e.releaseDecade=t},setSortOrder:function(e,t){e.sortOrder=t},setSpotifyInfo:function(e,t){t.spotifyAlbums.forEach(function(r,n){var a=500,s={height:819,url:"https://i.imgur.com/otLb7Vf.png",width:819};r.images.forEach(function(e){("https://i.imgur.com/otLb7Vf.png"===s.url||Math.abs(s.width)-a>Math.abs(e.width-a))&&(s=e)}),e.filteredAlbums[n+t.start].imageUrl=s.url,e.filteredAlbums[n+t.start].spotifyUrl=r.external_urls.spotify,e.filteredAlbums[n+t.start].name=r.name,e.filteredAlbums[n+t.start].artist=r.artists[0].name})},sort:function(e){var t=e.popularity,r=e.reception,n=e.releaseDecade,a=e.sortOrder,s=e.albums;switch(r){case"Respected":s=s.filter(function(e){return e.rymRating>4});break;case"Average":s=s.filter(function(e){return e.rymRating<=4&&e.rymRating>2.7});break;case"Poor":s=s.filter(function(e){return e.rymRating<=2.7});break;default:}switch(n){case"2010s":s=s.filter(function(e){return e.releaseYear>=2010});break;case"2000s":s=s.filter(function(e){return e.releaseYear<2010&&e.releaseYear>=2e3});break;case"1990s":s=s.filter(function(e){return e.releaseYear<2e3&&e.releaseYear>=1990});break;case"1980s":s=s.filter(function(e){return e.releaseYear<1990&&e.releaseYear>=1980});break;case"1970s":s=s.filter(function(e){return e.releaseYear<1980&&e.releaseYear>=1970});break;case"Earlier":s=s.filter(function(e){return e.releaseYear<1970});break;default:}switch(t){case"Popular":s=s.filter(function(e){return e.popularity>=40});break;case"Average":s=s.filter(function(e){return e.popularity<40&&e.popularity>=20});break;case"Niche":s=s.filter(function(e){return e.popularity<20});break;default:}e.filteredAlbums=s.sort(function(e,t){switch(a){case"Hate":return T(e)-T(t);case"Love":return T(t)-T(e);default:return-1}})}},D={albums:function(e){return e.albums},filteredAlbums:function(e){return e.filteredAlbums},popularity:function(e){return e.popularity},releaseDecade:function(e){return e.releaseDecade},reception:function(e){return e.reception},sortOrder:function(e){return e.sortOrder},loaded:function(e){return 0!==e.albums.length},scored:function(e){return 0!==e.albums.length&&null!=e.albums[0].userScore}},M={albums:[],filteredAlbums:[],sortOrder:"Love",reception:"All",releaseDecade:"2010s",popularity:"All"},N=!0,q={namespaced:N,state:M,actions:C,getters:D,mutations:$},I=(r("5df3"),r("b0b4")),L=r("768b"),G=(r("673e"),function(){function e(){Object(i["a"])(this,e),this.artistEncoderInstance={model:null,path:"models/artistEncoder/model.json"},this.favoriteArtistsEncoderInstance={model:null,path:"models/favoriteArtistsEncoder/model.json"},this.tasteMapperInstance={model:null,path:"models/taste/model.json"},this.trackEncoderInstance={model:null,path:"models/trackEncoder/model.json"},this.trackSequenceEncoderInstance={model:null,path:"models/trackSequenceEncoder/model.json"}}return Object(I["a"])(e,[{key:"artistEncoder",value:function(){return e.loadModel(this.artistEncoderInstance)}},{key:"favoriteArtistsEncoder",value:function(){return e.loadModel(this.favoriteArtistsEncoderInstance)}},{key:"tasteMapper",value:function(){return e.loadModel(this.tasteMapperInstance)}},{key:"trackEncoder",value:function(){return e.loadModel(this.trackEncoderInstance)}},{key:"trackSequenceEncoder",value:function(){return e.loadModel(this.trackSequenceEncoderInstance)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"loadModel",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.model){e.next=4;break}return e.next=3,E["b"](t.path);case 3:t.model=e.sent;case 4:return e.abrupt("return",t.model);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}()),U=function(){function e(){Object(i["a"])(this,e)}return Object(I["a"])(e,null,[{key:"artist",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=G.getInstance(),e.next=3,r.artistEncoder();case 3:return n=e.sent,a=E["e"](t).as2D(1,33),s=n.predict(a),e.next=8,s.array();case 8:return i=e.sent,e.abrupt("return",i[0]);case 10:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"taste",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,i,c,o,u,l,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.length<5)){e.next=2;break}throw new Error("taste encoder must be passed 5 artists");case 2:return r=G.getInstance(),e.next=5,r.favoriteArtistsEncoder();case 5:return n=e.sent,e.next=8,r.tasteMapper();case 8:return a=e.sent,s=E["e"](t.slice(0,5)).as3D(1,5,16),i=n.predict(s),c=a.predict(i),c=c.reshape([16,1]),o=E["f"]([[-.2658042312],[-.2918781042],[.4476911426],[.035458602],[.1686497927],[.2152237296],[-.4066027105],[.1940803975],[.0597865917],[.4049637318],[-.0558041073],[-.2366468459],[.0106893238],[-.4115174115],[.1501134783],[-.2174658924]]),u=E["d"](c,o),l=E["c"](),l.add(E["a"].dense({inputShape:[16],name:"perceptron",units:1,useBias:!1,weights:[c]})),p=E["c"](),p.add(E["a"].dense({inputShape:[16],name:"perceptron",units:1,useBias:!1,weights:[u]})),e.abrupt("return",{model:l,adjustedModel:p});case 20:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"track",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i,c,o,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=[r.acousticness,r.danceability,t.duration_ms/6e5,r.energy,t.explicit?1:0,r.instrumentalness,r.liveness,Math.max(-1*r.loudness+10,0)/70,r.mode,t.popularity/100,r.speechiness,r.tempo/200,r.time_signature/8,t.track_number/10,r.valence],a=G.getInstance(),e.next=4,a.trackEncoder();case 4:return s=e.sent,i=E["e"](n).as2D(1,15),c=s.predict(i),e.next=9,c.array();case 9:return o=e.sent,u=Object(L["a"])(o,1),l=u[0],e.abrupt("return",l);case 13:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"trackSequence",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=G.getInstance(),e.next=3,n.trackSequenceEncoder();case 3:return a=e.sent,s=E["e"](t).as3D(1,5,13),i=a.predict(s),e.next=8,i.array();case 8:return c=e.sent,e.abrupt("return",[r/100].concat(c[0]));case 10:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),Y=function(){function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;Object(i["a"])(this,e),this.spotifyId=t,this.artistPopularity=r,this.spotifyApi=n,this.trackCount=a,this.encodedTracks=[]}return Object(I["a"])(e,[{key:"encodeArtist",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.artistAggregation){e.next=2;break}throw new Error("Cannot encode null artist");case 2:return e.next=4,U.artist(this.artistAggregation);case 4:this.encodedArtist=e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"encodeTrackSequence",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(5===this.encodedTracks.length){e.next=2;break}throw new Error("track sequence encoder found ".concat(this.encodedTracks.length," tracks (should be 5)"));case 2:return e.next=4,U.trackSequence(this.encodedTracks,this.artistPopularity);case 4:this.artistAggregation=e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"encodeTracks",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.spotifyResponse&&null!=this.spotifyFeaturesResponse){e.next=2;break}throw new Error("Tried to encode track before receiving all info");case 2:return e.next=4,Promise.all(this.spotifyResponse.tracks.map(function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(r,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.spotifyFeaturesResponse){e.next=2;break}throw new Error("Tried to encode track before receiving all info");case 2:return e.abrupt("return",U.track(r,t.spotifyFeaturesResponse.audio_features[n]));case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 4:this.encodedTracks=e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"requestTracks",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.spotifyApi.getArtistTopTracks(this.spotifyId);case 2:if(this.spotifyResponse=e.sent,!(this.spotifyResponse.tracks.length<this.trackCount)){e.next=5;break}throw new Error("Artist scraper found less than ".concat(this.trackCount," top tracks"));case 5:return this.spotifyResponse.tracks=this.spotifyResponse.tracks.slice(0,this.trackCount),t=this.spotifyResponse.tracks.map(function(e){return e.id}),e.next=9,this.spotifyApi.getBatch(t,"audio-features");case 9:this.spotifyFeaturesResponse=e.sent;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getEncodedArtist",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.requestTracks();case 2:return e.next=4,this.encodeTracks();case 4:return e.next=6,this.encodeTrackSequence();case 6:return e.next=8,this.encodeArtist();case 8:if(null!=this.encodedArtist){e.next=10;break}throw new Error("Failed to encode artist: ".concat(this.spotifyId));case 10:return e.abrupt("return",this.encodedArtist);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),B={encode:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.state,s=t.rootGetters,i=s["spotify/api"],null!=i){e.next=4;break}throw new Error("cannot encode artists, Spotify API is uninitiailized");case 4:return e.next=6,Promise.all(a[r].map(function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=new Y(t.id,t.popularity,i),e.abrupt("return",r.getEncodedArtist());case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:c=e.sent,n("setEncodings",{encodedArtists:c,timeRange:r});case 8:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),learnTaste:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,a=n[n.bucket].slice(0,5),s=a.map(function(e){var t=e.encoded;if(null==t)throw new Error("Tried to learn taste from unencoded artist.");return t}),e.next=5,U.taste(s);case 5:i=e.sent,r("setTasteModels",i,{root:!0});case 7:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},F=(r("8e6e"),r("456d"),r("bd86"));function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(r,!0).forEach(function(t){Object(F["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J,V={setArtists:function(e,t){var r=t.artists.map(function(e){return H({encoded:null},e)});e[t.bucket]=r},setEncodings:function(e,t){t.encodedArtists.forEach(function(r,n){e[t.timeRange][n].encoded=r})},setBucket:function(e,t){e.bucket=t}},W={loaded:function(e){return{short:e.short.length>0,medium:e.medium.length>0,long:e.long.length>0}},encoded:function(e){var t={short:!1,medium:!1,long:!1};return e.short.length>0&&null!=e.short[0].encoded&&(t.short=!0),e.medium.length>0&&null!=e.medium[0].encoded&&(t.medium=!0),e.long.length>0&&null!=e.long[0].encoded&&(t.long=!0),t},bucket:function(e){return e.bucket},short:function(e){return e.short},medium:function(e){return e.medium},long:function(e){return e.long}},K={short:[],medium:[],long:[],bucket:"medium"},Q=!0,X={namespaced:Q,state:K,actions:B,getters:W,mutations:V},Z={api:function(e){return e.api},authUrl:function(e){var t=e.baseUrl;return t+="?client_id=".concat(e.clientId),t+="&response_type=".concat(e.responseType),t+="&redirect_uri=".concat(e.redirectUri),t+="&scope=".concat(e.scope),t}};(function(e){e["short"]="short_term",e["medium"]="medium_term",e["long"]="long_term"})(J||(J={}));r("ee1d");var ee=function(){function e(t,r){Object(i["a"])(this,e);var n="",a=0,s=t.substring(1).split("&");if(s.forEach(function(e){var t=e.split("=");if(2===t.length){var s=Object(L["a"])(t,2),i=s[0],c=s[1];switch(i){case"access_token":n=c;break;case"expires_in":if(Number.isNaN(Number(c)))throw new Error("expiration value non-numeric: ".concat(c));a=Number(c);break;case"token_type":if("Bearer"!==c)throw new Error("non-Bearer token recieved: ".concat(c));break;default:r("miscLog",{location:"Spotify token retrieval",message:"unexpected parameter receieved:\n".concat(i,": ").concat(c)})}}}),null==n||""===n)throw new Error("failed to retrieve access token");if(null==a||0===a)throw new Error("failed to retrieve access token expiration");this.accessToken=n,this.expirationTimestamp=Date.now()+1e3*a}return Object(I["a"])(e,[{key:"getAlbumTracks",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:50,n="https://api.spotify.com/v1/albums/".concat(t,"/tracks?limit=").concat(r),e.abrupt("return",this.spotifyRequest(n,"GET"));case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getArtist",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="https://api.spotify.com/v1/artists/".concat(t),e.abrupt("return",this.spotifyRequest(r,"GET"));case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getArtistTopTracks",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"US",n="https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?country=").concat(r),e.abrupt("return",this.spotifyRequest(n,"GET"));case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBatch",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Array.isArray(t)?t.join(","):t,a="https://api.spotify.com/v1/".concat(r,"?ids=").concat(n),e.abrupt("return",this.spotifyRequest(a,"GET"));case 3:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getGenreSeeds",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="https://api.spotify.com/v1/recommendations/available-genre-seeds",e.abrupt("return",this.spotifyRequest(t,"GET"));case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTrackAudioFeatures",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="https://api.spotify.com/v1/audio-features/".concat(t),e.abrupt("return",this.spotifyRequest(r,"GET"));case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserTopMusic",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"medium_term",n=i.length>2&&void 0!==i[2]?i[2]:20,a=i.length>3&&void 0!==i[3]?i[3]:0,s="https://api.spotify.com/v1/me/top/".concat(t,"?limit=").concat(n,"&offset=").concat(a,"&time_range=").concat(r),e.abrupt("return",this.spotifyRequest(s,"GET"));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"search",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="https://api.spotify.com/v1/search?q=".concat(t,"&type=").concat(r,"&limit=").concat(n),e.abrupt("return",this.spotifyRequest(a,"GET"));case 2:case"end":return e.stop()}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"spotifyRequest",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(Date.now()>this.expirationTimestamp)){e.next=2;break}throw new Error("Spotify Token Expired");case 2:return e.abrupt("return",new Promise(function(e,a){var s={url:t,method:r,json:!0,headers:{Authorization:"Bearer ".concat(n.accessToken)}};P()(s,function(s,i,c){if(null!=s)a(new Error("request failed for ".concat(t,": ").concat(s)));else if(null==c)a(new Error("request failed for ".concat(t,": body was null")));else if(null!=c.error&&429===c.error.status){var o=n;setTimeout(function(){e(o.spotifyRequest(t,r))},1e3*i.headers["Retry-After"])}else e(c)})}));case 3:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),te={initializeApi:function(e,t){var r=e.commit;try{var n=new ee(t,r);r("storeApi",n)}catch(a){r("logError",{location:"Spotify token retrieval",message:a})}},requestArtists:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.dispatch,s=t.state,null==s.api){e.next=7;break}return e.next=4,s.api.getUserTopMusic("artists",J[r],5,5);case 4:i=e.sent,n("artists/setArtists",{artists:i.items,bucket:r},{root:!0}),a("artists/encode",r,{root:!0});case 7:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),requestAlbums:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.state,s=t.rootGetters,null==a.api){e.next=8;break}return i=s["albums/filteredAlbums"],c=i.slice(r.start,r.start+r.count).map(function(e){return e.spotifyId}),e.next=6,a.api.getBatch(c,"albums");case 6:o=e.sent,n("albums/setSpotifyInfo",{start:r.start,spotifyAlbums:o.albums},{root:!0});case 8:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},re={storeApi:function(e,t){e.api=t}},ne={baseUrl:"https://accounts.spotify.com/authorize",clientId:"a01304edb42448d1aa31c3b255400130",redirectUri:"https://michaeldarr.github.io/mucritic-web/",responseType:"token",scope:"user-top-read",api:null},ae=!0,se={namespaced:ae,state:ne,getters:Z,actions:te,mutations:re};n["a"].use(R["b"]);var ie={state:{errorLog:[],miscLog:[],tasteModel:null,tasteModelAdjusted:null},modules:{albums:q,artists:X,spotify:se},getters:{tasteRaw:function(e){return null!=e.tasteModel?e.tasteModel.getLayer("perceptron").weights[0].read().arraySync():null},tasteAdjustedRaw:function(e){return null!=e.tasteModelAdjusted?e.tasteModelAdjusted.getLayer("perceptron").weights[0].read().arraySync():null}},mutations:{logError:function(e,t){e.errorLog.push(t)},logMisc:function(e,t){e.miscLog.push(t)},setTasteModels:function(e,t){e.tasteModel=t.model,e.tasteModelAdjusted=t.adjustedModel}}},ce=new R["b"].Store(ie),oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.apiIsLoaded?r("div",[r("Recommend")],1):r("div",[r("Greeting"),r("SpotifyLogin")],1)},ue=[],le=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},pe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[r("i",[e._v("μ")]),e._v("Critic\n    ")]),r("h2",{staticClass:"subheadding"},[r("span",{staticClass:"sub-1"},[e._v("\n            learning your music taste with\n        ")]),r("br"),r("span",{staticClass:"sub-2"},[e._v("\n            deep neural networks\n        ")])])])}],fe=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(p["c"]);fe=l["a"]([Object(p["a"])({})],fe);var de=fe,me=de,be=(r("a853"),Object(v["a"])(me,le,pe,!1,null,"4bd4f2b8",null)),he=be.exports,ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("SmallLogo"),e.loading?r("Loading",{attrs:{status:e.status}}):r("div",[r("ArtistGallery"),r("AlbumGallery",{attrs:{albums:e.albums}})],1)],1)},ye=[],ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"albums"},[r("h1",[e._v("Recommendations")]),r("AlbumFilters"),r("div",{staticClass:"album-display-container"},e._l(e.albums,function(e){return r("AlbumDisplay",{key:e.spotifyId,attrs:{album:e}})}),1)],1)},Oe=[],je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"album-container-outer"},[r("div",{staticClass:"album-container-inner"},[r("a",{staticClass:"album-art-link",attrs:{href:e.album.spotifyUrl}},[r("div",{staticClass:"album-art",style:{"background-image":"url("+e.album.imageUrl+")"}})]),r("p",{staticClass:"album-name"},[e._v("\n            "+e._s(e.album.name)+"\n        ")]),r("p",{staticClass:"artist-name"},[e._v("\n            "+e._s(e.album.artist)+"\n        ")])])])},ke=[],we=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(n["a"]);l["a"]([Object(p["b"])()],we.prototype,"album",void 0),we=l["a"]([Object(p["a"])({})],we);var _e=we,Ae=_e,Re=(r("1931"),Object(v["a"])(Ae,je,ke,!1,null,"af36fec8",null)),xe=Re.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-container"},[r("div",{staticClass:"select-label-pair"},[r("label",{attrs:{for:"sort-order"}},[e._v("Albums You'll")]),r("div",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.sortOrder,expression:"sortOrder"}],attrs:{id:"sort-order"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.sortOrder=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"Love"}},[e._v("\n                    Love\n                ")]),r("option",{attrs:{value:"Hate"}},[e._v("\n                    Hate\n                ")])])])]),r("div",{staticClass:"select-label-pair"},[r("label",{attrs:{for:"critical-reception"}},[e._v("Critical Reception")]),r("div",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.criticalReception,expression:"criticalReception"}],attrs:{id:"critical-reception"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.criticalReception=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"All"}},[e._v("\n                    All\n                ")]),r("option",{attrs:{value:"Respected"}},[e._v("\n                    Spicy\n                ")]),r("option",{attrs:{value:"Average"}},[e._v("\n                    Medium\n                ")]),r("option",{attrs:{value:"Poor"}},[e._v("\n                    Mild\n                ")])])])]),r("div",{staticClass:"select-label-pair"},[r("label",{attrs:{for:"release-decade"}},[e._v("Release Decade")]),r("div",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.releaseDecade,expression:"releaseDecade"}],attrs:{id:"release-decade"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.releaseDecade=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"All"}},[e._v("\n                    All\n                ")]),r("option",{attrs:{value:"2010s"}},[e._v("\n                    2010's\n                ")]),r("option",{attrs:{value:"2000s"}},[e._v("\n                    2000's\n                ")]),r("option",{attrs:{value:"1990s"}},[e._v("\n                    1990's\n                ")]),r("option",{attrs:{value:"1980s"}},[e._v("\n                    1980's\n                ")]),r("option",{attrs:{value:"1970s"}},[e._v("\n                    1970's\n                ")]),r("option",{attrs:{value:"Earlier"}},[e._v("\n                    Before 1970\n                ")])])])]),r("div",{staticClass:"select-label-pair"},[r("label",{attrs:{for:"popularity"}},[e._v("Popularity")]),r("div",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.popularity,expression:"popularity"}],attrs:{id:"popularity"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.popularity=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"All"}},[e._v("\n                    All\n                ")]),r("option",{attrs:{value:"Popular"}},[e._v("\n                    Popular\n                ")]),r("option",{attrs:{value:"Average"}},[e._v("\n                    Average\n                ")]),r("option",{attrs:{value:"Niche"}},[e._v("\n                    Niche\n                ")])])])])])},Se=[],Pe=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.sortOrder=e.$store.getters["albums/sortOrder"],e.criticalReception=e.$store.getters["albums/reception"],e.releaseDecade=e.$store.getters["albums/releaseDecade"],e.popularity=e.$store.getters["albums/popularity"],e}return Object(u["a"])(t,e),Object(I["a"])(t,[{key:"sortOrderSelected",value:function(e){this.$store.commit("albums/setSortOrder",e)}},{key:"receptionSelected",value:function(e){this.$store.commit("albums/setReception",e)}},{key:"decadeSelected",value:function(e){this.$store.commit("albums/setReleaseDecade",e)}},{key:"popularitySelected",value:function(e){this.$store.commit("albums/setPopularity",e)}}]),t}(p["c"]);l["a"]([Object(p["d"])("sortOrder")],Pe.prototype,"sortOrderSelected",null),l["a"]([Object(p["d"])("criticalReception")],Pe.prototype,"receptionSelected",null),l["a"]([Object(p["d"])("releaseDecade")],Pe.prototype,"decadeSelected",null),l["a"]([Object(p["d"])("popularity")],Pe.prototype,"popularitySelected",null),Pe=l["a"]([Object(p["a"])({})],Pe);var Ce=Pe,Te=Ce,$e=(r("d685"),Object(v["a"])(Te,Ee,Se,!1,null,"79e63fec",null)),De=$e.exports,Me=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(n["a"]);l["a"]([Object(p["b"])()],Me.prototype,"albums",void 0),Me=l["a"]([Object(p["a"])({components:{AlbumDisplay:xe,AlbumFilters:De}})],Me);var Ne=Me,qe=Ne,Ie=(r("7e1e"),Object(v["a"])(qe,ge,Oe,!1,null,"cb7f4182",null)),Le=Ie.exports,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"artists"},[r("TimeRange"),r("div",{staticClass:"artist-display-container"},e._l(e.artists,function(e){return r("ArtistDisplay",{key:e.spotifyId,attrs:{artist:e}})}),1)],1)},Ue=[],Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"artist-container-outer"},[r("div",{staticClass:"artist-container-inner"},[r("a",{staticClass:"artist-art-link",attrs:{href:e.artist.external_urls.spotify}},[r("div",{staticClass:"artist-art",style:{"background-image":"url("+e.artist.images[0].url+")"}})]),r("p",{staticClass:"artist-name"},[e._v("\n            "+e._s(e.artist.name)+"\n        ")])])])},Be=[],Fe=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(n["a"]);l["a"]([Object(p["b"])()],Fe.prototype,"artist",void 0),Fe=l["a"]([Object(p["a"])({})],Fe);var ze=Fe,He=ze,Je=(r("0147"),Object(v["a"])(He,Ye,Be,!1,null,"ea434704",null)),Ve=Je.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"select-label-pair"},[r("label",{attrs:{for:"time-period"}},[e._v("\n        Learning From Your Favorite Artists of\n    ")]),r("div",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"time-period"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"short"}},[e._v("\n                this Month\n            ")]),r("option",{attrs:{value:"medium"}},[e._v("\n                the Last Six Months\n            ")]),r("option",{attrs:{value:"long"}},[e._v("\n                All Time\n            ")])])])])},Ke=[],Qe=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.selected=e.$store.getters["artists/bucket"],e}return Object(u["a"])(t,e),Object(I["a"])(t,[{key:"newTimeRangeSelected",value:function(e){this.$store.commit("artists/setBucket",e)}}]),t}(p["c"]);l["a"]([Object(p["d"])("selected")],Qe.prototype,"newTimeRangeSelected",null),Qe=l["a"]([Object(p["a"])({})],Qe);var Xe=Qe,Ze=Xe,et=(r("5f8f"),Object(v["a"])(Ze,We,Ke,!1,null,"ab639a58",null)),tt=et.exports;function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(r,!0).forEach(function(t){Object(F["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var at=Object(R["a"])("artists"),st=at.mapState,it=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(I["a"])(t,[{key:"artists",get:function(){return this.$store.getters["artists/".concat(this.bucket)]}}]),t}(n["a"]);it=l["a"]([Object(p["a"])({components:{ArtistDisplay:Ve,TimeRange:tt},computed:nt({},st(["bucket"]))})],it);var ct=it,ot=ct,ut=(r("6dcf"),Object(v["a"])(ot,Ge,Ue,!1,null,"680ae13a",null)),lt=ut.exports,pt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ft=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[r("i",[e._v("μ")]),e._v("Critic\n")])}],dt=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(p["c"]);dt=l["a"]([Object(p["a"])({})],dt);var mt=dt,bt=mt,ht=(r("c88e"),Object(v["a"])(bt,pt,ft,!1,null,"2bf6a5cf",null)),vt=ht.exports,yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("LoadingAnimation"),r("h2",{staticClass:"status"},[e._v("\n        "+e._s(e.status)+"\n    ")])],1)},gt=[],Ot=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},jt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sk-fading-circle"},[r("div",{staticClass:"sk-circle1 sk-circle"}),r("div",{staticClass:"sk-circle2 sk-circle"}),r("div",{staticClass:"sk-circle3 sk-circle"}),r("div",{staticClass:"sk-circle4 sk-circle"}),r("div",{staticClass:"sk-circle5 sk-circle"}),r("div",{staticClass:"sk-circle6 sk-circle"}),r("div",{staticClass:"sk-circle7 sk-circle"}),r("div",{staticClass:"sk-circle8 sk-circle"}),r("div",{staticClass:"sk-circle9 sk-circle"}),r("div",{staticClass:"sk-circle10 sk-circle"}),r("div",{staticClass:"sk-circle11 sk-circle"}),r("div",{staticClass:"sk-circle12 sk-circle"})])}],kt=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(p["c"]);kt=l["a"]([Object(p["a"])({})],kt);var wt=kt,_t=wt,At=(r("664a"),Object(v["a"])(_t,Ot,jt,!1,null,"2336f129",null)),Rt=At.exports,xt=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(p["c"]);l["a"]([Object(p["b"])(String)],xt.prototype,"status",void 0),xt=l["a"]([Object(p["a"])({components:{LoadingAnimation:Rt}})],xt);var Et=xt,St=Et,Pt=(r("0ca0"),Object(v["a"])(St,yt,gt,!1,null,"7e6da80c",null)),Ct=Pt.exports;function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(r,!0).forEach(function(t){Object(F["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Dt,Mt=Object(R["a"])("artists"),Nt=Mt.mapState;(function(e){e["loadAlbums"]="importing ~30,000 albums",e["encodeArtists"]="learning artist representations",e["learnTaste"]="learning your taste",e["rateAlbums"]="calculating your album scores",e["loadSpotifyAlbums"]="importing data for top albums",e["sortAlbums"]="sorting albums",e["complete"]="completed"})(Dt||(Dt={}));var qt=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.albums=[],e.status=Dt.loadAlbums,e}return Object(u["a"])(t,e),Object(I["a"])(t,[{key:"mounted",value:function(){var e=this;this.$store.dispatch("albums/fetch"),this.$store.dispatch("spotify/requestArtists","short"),this.$store.dispatch("spotify/requestArtists","medium"),this.$store.dispatch("spotify/requestArtists","long"),this.$store.subscribe(function(t){switch(t.type){case"artists/setArtists":t.payload.timeRange===e.bucket&&(e.status=Dt.encodeArtists);break;case"artists/setEncodings":t.payload.timeRange===e.bucket&&(e.status=Dt.learnTaste,e.$store.dispatch("artists/learnTaste"));break;case"artists/setBucket":e.status=Dt.learnTaste,e.$store.dispatch("artists/learnTaste");break;case"albums/setScores":e.status=Dt.loadSpotifyAlbums,e.$store.commit("albums/sort"),e.$store.dispatch("spotify/requestAlbums",{start:0,count:20});break;case"albums/setSpotifyInfo":e.status=Dt.complete;break;case"albums/setPopularity":case"albums/setReleaseDecade":case"albums/setReception":case"albums/setSortOrder":e.status=Dt.loadSpotifyAlbums,e.$store.commit("albums/sort"),e.$store.dispatch("spotify/requestAlbums",{start:0,count:20});break;case"setTasteModels":e.status=Dt.rateAlbums,e.$store.dispatch("albums/rate");break;default:break}}),this.$store.watch(function(e,t){return t["albums/filteredAlbums"]},function(t){e.albums=t.slice(0,20)})}},{key:"loading",get:function(){return this.status!==Dt.complete}}]),t}(n["a"]);qt=l["a"]([Object(p["a"])({components:{AlbumGallery:Le,ArtistGallery:lt,Loading:Ct,SmallLogo:vt},computed:$t({},Nt(["bucket"]))})],qt);var It=qt,Lt=It,Gt=(r("0ab9"),Object(v["a"])(Lt,ve,ye,!1,null,"c551b708",null)),Ut=Gt.exports,Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("See it in action.")]),r("a",{attrs:{href:e.authUrl}},[e._v("Log in with Spotify")])])},Bt=[];function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(r,!0).forEach(function(t){Object(F["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ht=Object(R["a"])("spotify"),Jt=Ht.mapGetters,Vt=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(n["a"]);Vt=l["a"]([Object(p["a"])({computed:zt({},Jt(["authUrl"]))})],Vt);var Wt=Vt,Kt=Wt,Qt=(r("5e8b"),Object(v["a"])(Kt,Yt,Bt,!1,null,"246cbc9a",null)),Xt=Qt.exports;function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(r,!0).forEach(function(t){Object(F["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tr=Object(R["a"])("spotify"),rr=tr.mapState,nr=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(I["a"])(t,[{key:"apiIsLoaded",get:function(){return null!=this.api}}]),t}(p["c"]);nr=l["a"]([Object(p["a"])({components:{Greeting:he,Recommend:Ut,SpotifyLogin:Xt},computed:er({},rr(["api"]))})],nr);var ar=nr,sr=ar,ir=Object(v["a"])(sr,oe,ue,!1,null,null,null),cr=ir.exports,or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("About the model:")])},ur=[],lr={},pr=Object(v["a"])(lr,or,ur,!1,null,null,null),fr=pr.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("Hi, I'm Michael Darr.")])},mr=[],br={},hr=Object(v["a"])(br,dr,mr,!1,null,null,null),vr=hr.exports,yr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},gr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Can't find page! (404)")])])}],Or={},jr=Object(v["a"])(Or,yr,gr,!1,null,null,null),kr=jr.exports,wr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_r=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Something went wrong... (500)")])])}],Ar={},Rr=Object(v["a"])(Ar,wr,_r,!1,null,null,null),xr=Rr.exports;n["a"].use(A["a"]);var Er=new A["a"]({routes:[{path:"/",name:"run",component:cr},{path:"/about",name:"about",component:fr},{path:"/contact",name:"contact",component:vr},{path:"/404",name:"notFound",component:kr},{path:"/500",name:"error",component:xr}]});Er.beforeEach(function(e,t,r){try{0===e.matched.length&&(ce.dispatch("spotify/initializeApi",e.fullPath),r("/")),r()}catch(n){ce.commit("logError",{location:"page routing",error:n}),r("/500")}});var Sr=Er;n["a"].config.productionTip=!1,new n["a"]({router:Sr,store:ce,render:function(e){return e(_)}}).$mount("#app")},d685:function(e,t,r){"use strict";var n=r("6e73"),a=r.n(n);a.a},d8d5:function(e,t,r){},f432:function(e,t,r){}});
//# sourceMappingURL=app.f1905f49.js.map